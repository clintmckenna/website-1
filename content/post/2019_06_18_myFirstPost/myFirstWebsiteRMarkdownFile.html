---
title: "My first RMarkdown File"
author: "Susannah"
date: 2015-07-23T21:13:14-05:00
categories: ["R"]
tags: ["R Markdown"]
---



<div id="testing" class="section level1">
<h1>Testing</h1>
<p>This is a test of my first website RMarkdown file.
This is a test at 10PM.</p>
</div>
<div id="problem-1.1" class="section level1">
<h1>Problem 1.1</h1>
<p><strong>Long-to-Wide Data format translation</strong></p>
<div id="download-the-data" class="section level2">
<h2>Download the data</h2>
<ul>
<li>Load the <code>rvest</code> web scraping package.</li>
</ul>
<pre class="r"><code># install.packages(&#39;rvest&#39;)
library(rvest)</code></pre>
<ul>
<li>Download the <a href="http://wiki.socr.umich.edu/index.php/SOCR_Data_PD_BiomedBigMetadata">SOCR Parkinson’s Disease data</a></li>
<li>Save the downloaded data as a data frame named <strong>pd_data</strong>.</li>
</ul>
<pre class="r"><code>wiki_url &lt;- read_html(&#39;http://wiki.socr.umich.edu/index.php/SOCR_Data_PD_BiomedBigMetadata&#39;)

pd_data &lt;- html_table(html_nodes(wiki_url, &quot;table&quot;)[[1]])</code></pre>
<ul>
<li>Check data to make sure it downloaded correctly.</li>
</ul>
<pre class="r"><code>head(pd_data)</code></pre>
<pre><code>##   Cases L_caudate_ComputeArea L_caudate_Volume R_caudate_ComputeArea
## 1     2                   597              767                   855
## 2     2                   597              767                   855
## 3     2                   597              767                   855
## 4     2                   597              767                   855
## 5     3                   604              873                   935
## 6     3                   604              873                   935
##   R_caudate_Volume L_putamen_ComputeArea L_putamen_Volume
## 1              968                   842             1357
## 2              968                   842             1357
## 3              968                   842             1357
## 4              968                   842             1357
## 5             1043                   892             1366
## 6             1043                   892             1366
##   R_putamen_ComputeArea R_putamen_Volume L_hippocampus_ComputeArea
## 1                  1285             3052                      1306
## 2                  1285             3052                      1306
## 3                  1285             3052                      1306
## 4                  1285             3052                      1306
## 5                  1305             2920                      1292
## 6                  1305             2920                      1292
##   L_hippocampus_Volume R_hippocampus_ComputeArea R_hippocampus_Volume
## 1                 3238                      1513                 3759
## 2                 3238                      1513                 3759
## 3                 3238                      1513                 3759
## 4                 3238                      1513                 3759
## 5                 3079                      1516                 3827
## 6                 3079                      1516                 3827
##   cerebellum_ComputeArea cerebellum_Volume L_lingual_gyrus_ComputeArea
## 1                  16845             13949                        3268
## 2                  16845             13949                        3268
## 3                  16845             13949                        3268
## 4                  16845             13949                        3268
## 5                  16698             14076                        3243
## 6                  16698             14076                        3243
##   L_lingual_gyrus_Volume R_lingual_gyrus_ComputeArea
## 1                  11130                        3294
## 2                  11130                        3294
## 3                  11130                        3294
## 4                  11130                        3294
## 5                  11033                        3190
## 6                  11033                        3190
##   R_lingual_gyrus_Volume L_fusiform_gyrus_ComputeArea
## 1                  12221                         3625
## 2                  12221                         3625
## 3                  12221                         3625
## 4                  12221                         3625
## 5                  12187                         3631
## 6                  12187                         3631
##   L_fusiform_gyrus_Volume R_fusiform_gyrus_ComputeArea
## 1                   11087                         3232
## 2                   11087                         3232
## 3                   11087                         3232
## 4                   11087                         3232
## 5                   11116                         3302
## 6                   11116                         3302
##   R_fusiform_gyrus_Volume Sex Weight Age Dx chr12_rs34637584_GT
## 1                   10122   1     84  67 PD                   1
## 2                   10122   1     84  67 PD                   1
## 3                   10122   1     84  67 PD                   1
## 4                   10122   1     84  67 PD                   1
## 5                   10162   0     97  39 PD                   1
## 6                   10162   0     97  39 PD                   1
##   chr17_rs11868035_GT UPDRS_part_I UPDRS_part_II UPDRS_part_III Time
## 1                   0            1            12              1    0
## 2                   0            1            12              1    6
## 3                   0            1            12              1   12
## 4                   0            1            12              1   18
## 5                   1            0            19             22    0
## 6                   1            0            19             22    6</code></pre>
</div>
<div id="choose-3-variables" class="section level2">
<h2>Choose 3 variables</h2>
<p>I will make a short data frame using the following 3 variables, in addition to the case and time variables, for ease of handling:</p>
<ul>
<li><em>Case</em> refers to case subject identifier</li>
<li><em>Time</em> refers to visit time with four time-points: (baseline (0), 6, 12, and 18 month follow-ups).</li>
<li><em>L_caudate_volume</em> refers to the the 3D volume/size of the left caudate</li>
<li><em>Weight</em> refers to weight in kg</li>
<li><em>Age</em> refers to age in years</li>
</ul>
<pre class="r"><code># create short data frame with relevant variables for ease of handling
pd_data_short &lt;- data.frame(pd_data$Cases,
                            pd_data$Time,
                            pd_data$L_caudate_Volume, 
                            pd_data$Weight, 
                            pd_data$Age)</code></pre>
<ul>
<li>Take out ‘pd_data.’ from the column names.</li>
</ul>
<pre class="r"><code>names(pd_data_short) = sub(&quot;pd_data.&quot;,&quot;&quot;,names(pd_data_short))   </code></pre>
</div>
<div id="translate-data-from-long-to-wide-format" class="section level2">
<h2>Translate data from long-to-wide format</h2>
<ul>
<li>I used the <code>reshape</code> function in the <code>stats</code> package to translate the data from long-to-wide.</li>
<li>After transforming from long to wide, now there is a column for each case of <em>L_caudate_volume</em>, <em>Weight</em>, and <em>Age</em> at each measurement visit occasion, corresponding to baseline/0, 6 months, 12 months, and 18 months.</li>
</ul>
<pre class="r"><code>library(stats)

pd_data_wide &lt;- reshape(pd_data_short, 
                        idvar = &quot;Cases&quot;, 
                        timevar = &quot;Time&quot;, 
                        direction = &quot;wide&quot;)
head(pd_data_wide)</code></pre>
<pre><code>##    Cases L_caudate_Volume.0 Weight.0 Age.0 L_caudate_Volume.6 Weight.6
## 1      2                767       84    67                767       84
## 5      3                873       97    39                873       97
## 9      6                797       96    54                797       96
## 13     7                798       79    53                798       79
## 17     8                837       79    46                837       79
## 21    10                808       71    56                808       71
##    Age.6 L_caudate_Volume.12 Weight.12 Age.12 L_caudate_Volume.18
## 1     67                 767        84     67                 767
## 5     39                 873        97     39                 873
## 9     54                 797        96     54                 797
## 13    53                 798        79     53                 798
## 17    46                 837        79     46                 837
## 21    56                 808        71     56                 808
##    Weight.18 Age.18
## 1         84     67
## 5         97     39
## 9         96     54
## 13        79     53
## 17        79     46
## 21        71     56</code></pre>
</div>
</div>
